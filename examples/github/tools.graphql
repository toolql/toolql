# Find the ID of a Github repository
query getRepositoryId(
  # Repository name
  $name: String!,
  # Owner of the repository
  $owner: String!
) {
  repository(name: $name, owner: $owner) {
    # Repository ID
    id
  }
}

# Add a star to a repository given its ID
mutation starRepo (
  # The Repository ID
  $id: ID!
) {
  addStar(input: {
    starrableId: $id
  }) {
    starrable {
      # Updated number of stars for the repository
      stargazerCount
    }
  }
}

# Find repositories that match a given search term
query repoSearch(
  # The term to search for
  $query: String!,
  # The maximum number of results - defaults to 50
  $maxResults: Int = 50
) {
  search(
    query: $query,
    type: REPOSITORY,
    first: $maxResults
  ) {
    nodes {
      ... on Repository {
        # Name of the repository
        name
        owner {
          # ID of the repository owner
          id
        }
        # ID of the repository
        id
      }
    }
  }
}
